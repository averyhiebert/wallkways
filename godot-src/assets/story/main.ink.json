{"inkVersion":21,"root":[[{"->":"default"},["done",{"#n":"g-0"}],null],"done",{"default":[["ev",true,"/ev",{"VAR=":"can_repair","re":true},"^Debugging hub","\n",["ev",{"^->":"default.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^antenna 1",{"->":"$r","var":true},null]}],["ev",{"^->":"default.0.7.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^antenna 2",{"->":"$r","var":true},null]}],["ev",{"^->":"default.0.8.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":2},{"s":["^antenna 3",{"->":"$r","var":true},null]}],["ev",{"^->":"default.0.9.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":2},{"s":["^computer",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"default.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.6.s"},[{"#n":"$r2"}],"\n",{"->":"antenna_mast1"},{"->":".^.^.g-0"},null],"c-1":["ev",{"^->":"default.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.7.s"},[{"#n":"$r2"}],"\n",{"->":"antenna_mast2"},{"->":".^.^.g-0"},null],"c-2":["ev",{"^->":"default.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.8.s"},[{"#n":"$r2"}],"\n",{"->":"antenna_mast3"},{"->":".^.^.g-0"},null],"c-3":["ev",{"^->":"default.0.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.9.s"},[{"#n":"$r2"}],"\n",{"->":"computer"},{"->":".^.^.g-0"},null],"g-0":["done",null]}],null],"continue":[["ev","str","^Ok.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev","void","/ev","->->",null]}],null],"exit":[["ev","str","^Ok.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n",{"->":"end"},null]}],null],"end":["ev",{"VAR?":"DEBUG"},"/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":"default"},{"->":"end.5"},null]}],[{"->":".^.b"},{"b":["\n","done",{"->":"end.5"},null]}],"nop","\n",null],"antenna_mast":[{"temp=":"n"},["ev",{"VAR?":"repaired"},"^antennas",{"VAR?":"n"},"listInt","?","/ev",{"->":".^.b","c":true},{"b":["\n","^This antenna has already been repaired.","\n",{"->":"exit"},{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"can_repair"},"/ev",{"->":".^.b","c":true},{"b":["\n","^Repair the antenna?","\n","ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":4},{"->":".^.^.^.4"},{"c-0":["\n","ev",{"VAR?":"repaired"},"^antennas",{"VAR?":"n"},"listInt","+",{"VAR=":"repaired","re":true},"/ev","\n","ev",{"VAR?":"repaired"},"LIST_COUNT","/ev",{"VAR=":"total_repaired","re":true},"\n","ev",{"VAR?":"total_repaired"},"out","/ev","^/3 antennas now active. ","#","^CLEAR","/#","\n",{"->":"exit"},null],"c-1":["\n",{"->":"end"},null]}]}],[{"->":".^.b"},{"b":["\n","^The antenna appears to be broken. You could fix it if you were closer to the top of the mast.","\n",{"->":"exit"},{"->":".^.^.^.4"},null]}],"nop","\n",null],"antenna_mast1":["ev",1,"/ev",{"->":"antenna_mast"},null],"antenna_mast2":["ev",2,"/ev",{"->":"antenna_mast"},null],"antenna_mast3":["ev",3,"/ev",{"->":"antenna_mast"},null],"player_upright":["ev",true,"/ev","~ret",null],"set_checkpoint":[{"temp=":"n"},"ev",{"x()":"player_upright"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","^locations",{"VAR?":"n"},"listInt","/ev",{"VAR=":"spawnpoint","re":true},"\n","ev",{"VAR?":"repaired"},"/ev",{"VAR=":"repaired_checkpoint","re":true},"^Progress saved.","\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","^You can only save progress while oriented vertically.","\n",{"->":".^.^.^.6"},null]}],"nop","\n",{"->":"exit"},null],"checkpoint0":["ev",0,"/ev",{"->":"set_checkpoint"},null],"checkpoint1":["ev",1,"/ev",{"->":"set_checkpoint"},null],"checkpoint2":["ev",2,"/ev",{"->":"set_checkpoint"},null],"respawn":["ev",{"VAR?":"repaired_checkpoint"},"/ev",{"VAR=":"repaired","re":true},"ev",{"VAR?":"repaired"},"LIST_COUNT","/ev",{"VAR=":"total_repaired","re":true},"\n","ev",{"VAR?":"spawnpoint"},"LIST_VALUE","/ev","~ret","\n",null],"instructions":["^ACTIVATION INSTRUCTIONS","\n","^<br>","\n","^Orientation: standard","\n","^Primary axis: Y","\n","^Frequency: 220 MHz","\n",{"->":"exit"},null],"computer":[["^Initialize activation sequence (y/n)?","\n","ev","str","^y","/str",{"VAR?":"total_repaired"},3,"==","/ev",{"*":".^.c-0","flg":5},"ev","str","^y","/str",{"VAR?":"total_repaired"},3,"<","/ev",{"*":".^.c-1","flg":5},"ev","str","^n","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->":".^.^.^.activate"},null],"c-1":["\n","^ERROR: unable to initialize activation sequence.","\n","ev",{"VAR?":"repaired"},"LIST_COUNT","out","/ev","^/3 antennas functional.","\n","^Please ensure all antennas are functional and try again.","\n",{"->":"exit"},null],"c-2":["\n",{"->":"end"},null]}],{"activate":[["^Beginning activation sequence.","\n","^Select ORIENTATION:","\n","ev",{"VAR?":"orientation_options"},"LIST_ALL","/ev",{"->t->":".^.^.^.choose_from"},"^Select PRIMARY AXIS:","\n","ev",{"VAR?":"axis_options"},"LIST_ALL","/ev",{"->t->":".^.^.^.choose_from"},"^Select FREQUENCY:","\n","ev",{"VAR?":"frequency_options"},"LIST_ALL","/ev",{"->t->":".^.^.^.choose_from"},"^Finalize activation sequence (y/n)?","\n","ev","str","^y","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^n","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^The screen goes black for a moment... ","#","^CLEAR","/#","\n",{"->t->":"continue"},"^The buildings around you begin to move with a shudder.","\n",{"->t->":"continue"},"ev",{"VAR?":"selected"},{"VAR?":"correct"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":"computer.win"},{"->":".^.^.^.17"},null]}],[{"->":".^.b"},{"b":["\n",{"->":"computer.lose"},{"->":".^.^.^.17"},null]}],"nop","\n",null],"c-1":["\n","^SEQUENCE ABORTED","\n","ev",{"list":{}},"/ev",{"VAR=":"selected","re":true},{"->":"exit"},null]}],null],"win":["#","^CLEAR","/#","^Suddenly, you feel a strange, disorienting jolt.","\n",{"->t->":"continue"},"^Just as suddenly, you regain awareness.","\n","^The facility has returned to normalcy.","\n","^The gravitational aberration has been brought under control.","\n","^CONGRATULATIONS!","\n","^(TODO Write better ending?)","\n","ev",{"list":{}},"/ev",{"VAR=":"selected","re":true},{"->":"exit"},null],"lose":["#","^CLEAR","/#","^Suddenly, the entire facility collapses to the ground with a sickening crash.","\n","^As your head rushes towards the concrete, you realize that the activation sequence must have been incorrect.","\n","^Not much you can do about it now, though.","\n",{"->t->":"continue"},"^GAME OVER. ","#","^CLEAR","/#","\n","^(TODO Write ending better).","\n","ev",{"list":{}},"/ev",{"VAR=":"selected","re":true},{"->":"exit"},null],"abort":[["ev","str","^ABORT","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^SEQUENCE ABORTED","\n","ev",{"list":{}},"/ev",{"VAR=":"selected","re":true},{"->":"exit"},null]}],null],"choose_from":[{"temp=":"candidates"},"ev",{"VAR?":"candidates"},"/ev","thread",{"->":".^.^.choice_for_each"},"thread",{"->":".^.^.abort"},"done",null],"choice_for_each":[{"temp=":"candidates"},["ev",{"VAR?":"candidates"},"LIST_COUNT",0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","done",{"->":".^.^.^.7"},null]}],"nop","\n","ev",{"VAR?":"candidates"},"LIST_MAX","/ev",{"temp=":"curr"},"\n","ev",{"VAR?":"candidates"},{"VAR?":"curr"},"-","/ev","thread",{"->":".^.^"},["ev",{"^->":"computer.choice_for_each.1.22.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^> ","ev",{"VAR?":"curr"},"out","/ev",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"computer.choice_for_each.1.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.22.s"},[{"#n":"$r2"}],"\n","ev",{"VAR?":"selected"},{"VAR?":"curr"},"+",{"VAR=":"selected","re":true},"/ev","ev","void","/ev","->->","done",null]}],null]}],"entrance_sign":["^WARNING: GRAVITATIONAL ABERRATION","\n","^Unsafe for human habitation.","\n","^Enter at own risk.","\n",{"->":"exit"},null],"fenced_sign":["^NOTICE TO STAFF","\n","^Employees must fall DOWN at all times.","\n","^Walking on walls is strictly forbidden.","\n","^Violators will be disciplined.","\n",{"->":"exit"},null],"anti_union_sign":["^We would like to remind all staff of the collegial relationship between management and labour in this facility.","\n","^It is in no one's best interest to let a third party disrupt that relationship while taking a cut of your hard-earned paycheck.","\n","^We trust that you will vote accordingly on Friday.","\n",{"->":"exit"},null],"note_1":["^Management is going to get us all killed.","\n","^They seriously believe that \"orientation\" should be set to \"standard,\" when it obviously needs to be \"reversed.\"","\n","^This is why we need a union!","\n",{"->":"exit"},null],"note_2":["^Management really has no clue what they're doing.","\n","^They refuse to understand that the frequency [i]needs[/i] to be [b]15 MHz[/b] or the whole place will collapse.","\n","^We can't let them do this. Solidarity forever, the union makes us strong!","\n",{"->":"exit"},null],"note_3":["^If [b]PRIMARY AXIS[/b] is set to anything other than [b]Z[/b] it will end in disaster!","\n","^Fortunately, management can't screw up [i]too[/i] badly while all the antennas are broken.","\n","^Keep up the good work, folks! ;)","\n",{"->":"exit"},null],"flavour_1":["^˙ʇɹos ǝɯos ɟo uoᴉʇɐloᴉʌ ∀HSO uɐ ǝq oʇ sɐɥ sᴉɥ┴  ˙dn sᴉ ʎɐʍ ɥɔᴉɥʍ ɹǝqɯǝɯǝɹ uǝʌǝ ʇ,uɐɔ I ƃuol os ǝɹǝɥ dn uǝǝq ǝʌ,I","\n",{"->":"exit"},null],"global decl":["ev",false,{"VAR=":"DEBUG"},{"list":{},"origins":["antennas"]},{"VAR=":"antennas"},{"list":{}},{"VAR=":"repaired"},{"list":{}},{"VAR=":"repaired_checkpoint"},0,{"VAR=":"total_repaired"},false,{"VAR=":"can_repair"},{"list":{},"origins":["locations"]},{"VAR=":"locations"},{"list":{"locations.entrance":0}},{"VAR=":"spawnpoint"},{"list":{},"origins":["orientation_options"]},{"VAR=":"orientation_options"},{"list":{},"origins":["axis_options"]},{"VAR=":"axis_options"},{"list":{},"origins":["frequency_options"]},{"VAR=":"frequency_options"},{"list":{}},{"VAR=":"selected"},{"list":{"orientation_options.reversed":3,"axis_options.Z":3,"frequency_options.15MHz":2}},{"VAR=":"correct"},"/ev","end",null]}],"listDefs":{"antennas":{"a1":1,"a2":2,"a3":3},"locations":{"entrance":0,"shed":1,"walls":2},"orientation_options":{"standard":1,"inverse":2,"reversed":3,"flipped":4},"axis_options":{"X":1,"Y":2,"Z":3,"W":4,"t":5},"frequency_options":{"2MHz":1,"15MHz":2,"75MHz":3,"220MHz":4,"350MHz":5}}}